(window.webpackJsonp=window.webpackJsonp||[]).push([[16],{319:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Apibar=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=h(n(0)),o=h(n(7)),i=n(2),u=h(n(320)),l=h(n(190)),s=h(n(191)),d=h(n(192)),f=h(n(193)),c=h(n(45)),p=h(n(158)),g=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(16));function h(e){return e&&e.__esModule?e:{default:e}}var m=t.Apibar=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default.Component),r(t,[{key:"render",value:function(){if(g.showLoadingSpinner())return a.default.createElement(c.default,{loading:!0,label:"Loading API"});var e=p.default.getCurrentVersionProps().Swagger;return a.default.createElement("div",{id:"apibar"},a.default.createElement("div",{className:"apibar-dropdowns"},a.default.createElement(l.default,null),a.default.createElement(d.default,null),a.default.createElement(s.default,null)),a.default.createElement("div",{className:"apibar-menu"},a.default.createElement(u.default,{binding:i.CurrentApi,url:e}),a.default.createElement(f.default,null)))}}]),t}();t.default=(0,o.default)(m,[i.SelectApiInProgress,i.CurrentApi,i.CurrentDomain])},320:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=B(n(0)),o=n(51),i=B(n(2)),u=B(n(114)),l=B(n(11)),s=B(n(13)),d=B(n(12)),f=B(n(10)),c=B(n(26)),p=B(n(27)),g=B(n(131)),h=B(n(54)),m=B(n(60)),b=B(n(140)),v=B(n(262)),y=N(n(39)),E=N(n(23)),P=N(n(5)),w=N(n(6)),A=N(n(16)),C=N(n(14)),I=N(n(33)),O=B(n(137)),_=B(n(189)),M=B(n(234)),S=n(3),j=B(n(123)),k=n(55),V=N(k),D=n(8),T=B(D),x=n(69);function N(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function B(e){return e&&e.__esModule?e:{default:e}}var L=a.default.createClass({displayName:"ApiActionsMenu",mixins:[v.default,b.default,m.default],observedBindings:[i.default.Codegen,i.default.CurrentSpec.sub("apisJson"),i.default.Organizations.sub("current")],componentWillMount:function(){g.default.ensureAllLangList();var e=A.details(),t=e.name,n=e.owner;p.default.getMeta(n,t),void 0===V.available(k.PUBLIC_APIS,n)&&this.isEditor()&&j.default.getLimits(n)},showCollaboration:function(){this.isEditor()?s.default.show("collaborators",r({},w.objectId(),{url:w.getFullUrl(),hasOwnership:!0,isSpecPrivate:A.apisJsonIsPrivate(),source:"Editor Page"})):d.default.error("You must be logged in to manage collaboration for this API","Manage Collaborators")},addApiVersion:function(){s.default.show("addApiVersion")},bumpApiVersion:function(){s.default.show("bumpVersion")},editApiInfo:function(){s.default.show("editApiMeta");var e=this.getDefaultBinding(),t=e.get("groupId"),n=e.get("artifactId");p.default.getMeta.triggerAsync(t,n).catch(function(e){d.default.error(e,"Edit Information")})},editGitHubPush:function(){var e=this;this.requireSave(function(){var t=e.getDefaultBinding(),n=t.get("groupId"),r=t.get("artifactId"),a=t.get("versionId");s.default.show("editGitHubPush"),p.default.getGitHubPush.triggerAsync(n,r,a).then(function(){}).catch(function(e){d.default.error(e,"Edit GitHub Push")})},"to edit GitHub Push")},editCodegenOptions:function(e){s.default.show("editCodegenOptions",{oas:e})},deleteVersion:function(){var e=this;1==this.getDefaultBinding().get("versions").count()?d.default.error("An API has to have at least one version","Delete Version"):this.isCurrentVersionPublished()?d.default.error("Unable to delete published versions","Delete Version"):c.default.confirm({msg:"Are you sure you want to delete this version of the API definition?",title:"Delete Version",callback:function(){return e.doDeleteVersion()}})},doDeleteVersion:function(){var e=this.getDefaultBinding(),t=e.get().toJS();p.default.deleteVersion.triggerAsync(t.groupId,t.artifactId,t.versionId).then(function(){var n=e.get("versions").find(function(e){return u.default.getApiVersion(e.toJS())!=t.versionId}),r=n?u.default.getApiVersion(n.toJS()):null;f.default.go("/api/"+t.groupId+"/"+t.artifactId+(n?"/"+r:"")),p.default.select(t.groupId,t.artifactId,r)}).catch(function(e){d.default.error(e,"Delete Version")})},togglePublish:function(){var e=this;this.isCurrentVersionPublished()?this.requireEditor(function(){s.default.show("togglePublished")},"to unpublish it"):this.requireCollaborator("edit",function(){e.requireSave(function(){s.default.show("togglePublished")},"to publish")},"to publish it")},isCurrentVersionPublished:function(){return i.default.CurrentApi.get("published")},handleReset:function(){var e=I.getEditorMode()||"",t=I.getEditContextInFocus();h.default.setAllowEditorCtxReload(!0),(0,x.preserveCurrentContext)(e,t),p.default.reset(),(0,T.default)({common:{label:"Selected Reset Changes",appContext:"Editor Page",pageContext:"Main Toolbar/API Options Dropdown",component:"Reset Changes Menu Item",custom:{"Definition Type":"API"}}})},getPermissions:function(){return{isOwner:E.isOwner(),isConsumer:C.userIsConsumer(P.getUsername()),isEditor:E.hasAtLeastEdit()&&!E.isBlocked(),isLoggedIn:P.isLoggedIn()}},selectTemplate:function(e,t){try{var n=y.json()}catch(e){return void d.default.error("Cannot generate with invalid YAML/JSON, please resolve any syntax issues in the spec first")}g.default.generate(e,t,n).then(function(e){var t=e.blob,n=e.filename;O.default.saveAs(t,n)}).catch(function(e){/4../.test(e.response.status)?e.response.json().then(function(e){d.default.error({body:e})}):/5../.test(e.response.status)?d.default.error("There was an error generating the "+e.target+" "+e.template+" code. Please ensure that the definition and all external refs (inc. domains) are valid."):d.default.error(e)})},mergeSpec:function(){s.default.show("selectToCompareAndMerge")},render:function(){var e=this,t=i.default.CurrentApi,n=this.getPermissions(),r=t.get("notificationStatus"),u=t.get("groupId"),s=t.get("artifactId"),d=!A.isBlocked(),f=this.props.url,c=i.default.CurrentApiMetadata.get("defaultVersion");return a.default.createElement("div",{className:"api-actions-menu"},a.default.createElement(_.default,null),a.default.createElement(S.ButtonGroup,{className:"api-action-btns"},n.isEditor&&!n.isConsumer&&d?a.default.createElement(S.OverlayTrigger,{placement:"bottom",overlay:a.default.createElement(S.Tooltip,{className:"api-actions-menu-icons"},"API Options"),rootClose:!0},a.default.createElement(S.DropdownButton,{id:"api-configure-menu",bsStyle:"link",noCaret:!0,title:a.default.createElement(l.default,{icon:"circle icon-cog"}),pullRight:!0},a.default.createElement(S.MenuItem,{onSelect:function(){e.editGitHubPush(),(0,T.default)({common:{label:"Selected Edit Github Push",appContext:"Editor Page",pageContext:"Main Toolbar/API Options Dropdown",component:"Edit GitHub Push Menu Item",custom:{"Definition Type":A.isDomain()?"Domain":"API"}}})}},"Edit GitHub Push"),a.default.createElement(S.MenuItem,{divider:!0}),a.default.createElement(S.MenuItem,{onSelect:this.handleReset},"Reset Changes"))):null,c?a.default.createElement("div",{className:"btn-group btn-group-link"},a.default.createElement("div",{className:"button-link btn btn-link notifications-btn"},a.default.createElement(M.default,{notificationStatus:r,groupId:u,projectId:s,id:f,type:"apis",origin:"apis",tractEvent:{common:{label:"Toggled Notifactions",appContext:"Editor Page",pageContext:"Main Toolbar",component:"Bell-Alt Icon",custom:{"Definition Type":"API","Desired State":r?"Off":"On"}}}}))):null,n.isEditor&&d?a.default.createElement(S.OverlayTrigger,{placement:"bottom",overlay:a.default.createElement(S.Tooltip,{className:"api-actions-menu-icons"},"Share & Collaborate")},a.default.createElement(o.Button,{bsStyle:"link",pullRight:!0,onClick:function(){e.showCollaboration(),(0,T.default)((0,D.SelectedShareAndCollaborate)())}},a.default.createElement(l.default,{icon:"circle icon-share"}))):null))}});t.default=L,e.exports=t.default},489:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.EditorModeApi=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=A(n(0)),o=A(n(71)),i=A(n(27)),u=A(n(319)),l=w(n(39)),s=n(6),d=w(s),f=A(n(10)),c=n(3),p=A(n(18)),g=A(n(2)),h=A(n(194)),m=A(n(28)),b=A(n(195)),v=A(n(139)),y=A(n(4)),E=A(n(136)),P=A(n(58));function w(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function A(e){return e&&e.__esModule?e:{default:e}}var C=t.EditorModeApi=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default.Component),r(t,[{key:"componentWillMount",value:function(){var e=this;E.default.setup({type:s.OBJECT_TYPE_API}),P.default.collapseSidebar(),this.ensureApi();var t=d.getCurrentMatch();this.listener=g.default.Route.sub("params").addListener(function(n){var r=!y.default.is(n.getPreviousValue(),n.getCurrentValue()),a=!l.hasLoaded();t===d.getCurrentMatch()&&(r||a)&&e.ensureApi()})}},{key:"componentWillUnmount",value:function(){E.default.release(),this.listener&&g.default.Route.sub("params").removeListener(this.listener)}},{key:"ensureApi",value:function(){var e=d.getParams(),t=e.groupId,n=e.artifactId,r=e.versionId,a=e.view;r?this.selectApi(t,n,r,a):i.default.getMeta(t,n).then(function(e){var r=e.defaultVersion;f.default.go("/api/"+t+"/"+n+"/"+r)})}},{key:"selectApi",value:function(e,t,n,r){i.default.select.apply(i.default,arguments).then(function(){d.getParams().versionId}).catch(function(){p.default.debug("No such version, "+e+"/"+t+"/"+n)})}},{key:"renderNoApiFound",value:function(){if("failed"!==g.default.SelectApiInProgress.get("status"))return null;var e=g.default.SelectApiInProgress;return a.default.createElement("div",{className:"no-api-found-msg"},a.default.createElement("h3",null," Sorry, we can't find ",a.default.createElement("b",null," ",e.get("owner")," / ",e.get("id")," / ",e.get("version")," ")),a.default.createElement(c.Link,{to:"/"},"Go back home"))}},{key:"render",value:function(){var e=null;(0,m.default)("ui.showCluster")&&(e={top:72});var t=null;return v.default.isSupportedBrowser()&&(t=a.default.createElement("div",null,a.default.createElement(u.default,null),a.default.createElement(h.default,null),this.renderNoApiFound())),a.default.createElement("div",{style:e,className:"main-page api-main"},a.default.createElement(b.default,null),t)}}]),t}();t.default=a.default.createClass({displayName:"editor-mode-api",mixins:[o.default.Mixin],observedBindings:[g.default.SelectApiInProgress],render:function(){return a.default.createElement(C,this.props)}})}}]);